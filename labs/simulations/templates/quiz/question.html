{% extends 'quiz/base.html' %}

{% block title %}Quiz Question - Box {{ simulation.box }}{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-12">
        <div class="box-number">
            <strong>Box {{ simulation.box }}</strong> | Created: {{ simulation.date_created|date:"M d, Y" }}
        </div>

        {% if simulation.task %}
        <div class="task-box">
            <h5><i class="fas fa-tasks"></i> Task</h5>
            <p>{{ simulation.task }}</p>
        </div>
        {% endif %}

        <div class="question-box">
            <h4><i class="fas fa-question-circle"></i> Question</h4>
            <p class="lead">{{ simulation.question }}</p>
        </div>

        <div class="answer-section">
            <h5><i class="fas fa-pencil-alt"></i> Your Answer</h5>
            <form method="post" onkeydown="return event.key != 'Enter';">
                {% csrf_token %}
                <div class="mb-3">
                    {{ form.answer.label_tag }}
                    {{ form.answer }}
                    {% if form.answer.errors %}
                        <div class="text-danger">
                            {% for error in form.answer.errors %}
                                <small>{{ error }}</small>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
                <div class="d-grid gap-2 d-md-flex justify-content-md-between">
                    <button type="submit" class="btn btn-primary btn-lg">
                        <i class="fas fa-check"></i> Submit Answer
                    </button>
                    <a href="{% url 'quiz_list' %}" class="btn btn-outline-secondary">
                        <i class="fas fa-list"></i> Back to List
                    </a>
                </div>
                <script type="text/javascript">
                    
                </script>
            </form>
        </div>

        {% if simulation.useranswer %}
        <div class="alert alert-info mt-3">
            <strong>Previous Answer:</strong> {{ simulation.useranswer }}
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}